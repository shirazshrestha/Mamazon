<!DOCTYPE html>
<html lang="en" layout:decorate="~{layout/buyer_layout}"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5" xmlns:layout="http://www.w3.org/1999/xhtml"
      +
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Product details</title>
</head>
<body>
<div layout:fragment="content" class="container mt-4">

    <div class="row">

        <div class="card">
            <div class="row">
                <aside class="col-sm-5 border-right">
                    <article>
                        <div class="img-big-wrap">
                            <div>
                                <img th:src="@{/{id}.png(id=${product.id})}" width="100%" height="500px"
                                     alt="product image">
                            </div>
                        </div> <!-- slider-product.// -->
                    </article> <!-- gallery-wrap .end// -->
                </aside>
                <aside class="col-sm-7">
                    <article class="card-body p-5">
                        <h3 class="title mb-3" th:text="${product.title}"></h3>

                        <p class="price-detail-wrap">
                        <span class="price h3 text-warning">
                            <span class="currency">US $</span><span class="num" th:text="${product.price}"></span>
                        </span>
                        </p> <!-- price-detail-wrap .// -->
                        <dl class="item-property">
                            <dt>Description</dt>
                            <dd><p th:text="${product.description}"></p></dd>
                        </dl>
                        <dl>
                            <div class="col-md-12 text-warning" style="font-size: 30px">
                                <i th:class="${average>0}?'fa fa-star txt-warning':'fa fa-star-o txt-warning'"></i>
                                <i th:class="${average>1}?'fa fa-star txt-warning':'fa fa-star-o txt-warning'"></i>
                                <i th:class="${average>2}?'fa fa-star txt-warning':'fa fa-star-o txt-warning'"></i>
                                <i th:class="${average>3}?'fa fa-star txt-warning':'fa fa-star-o txt-warning'"></i>
                                <i th:class="${average>4}?'fa fa-star txt-warning':'fa fa-star-o txt-warning'"></i>
                            </div>
                            <a th:href="@{/buyer/product/{id}/reviews(id=${product.id})}"><button type="submit"
                                    class="btn btn-lg btn-outline-danger text-uppercase" >All reviews</button></a>
                        </dl>
                                <!-- item-property-hor .// -->
                        <form method="get" th:action="@{/cart/add/{id}(id=${product.id})}">
                            <hr>
                            <div class="row">
                                <div class="col-sm-5">
                                    <dl class="param param-inline">
                                        <dt>Quantity</dt>
                                        <dd>
                                            <input type="text" min="1" name="qty" class="form-control">
                                        </dd>
                                    </dl>  <!-- item-property .// -->
                                </div> <!-- col.// -->
                            </div> <!-- row.// -->
                            <input type="submit" th:href="@{/cart/add/{id}(id=${product.id})}"
                                   class="btn btn-lg btn-outline-primary text-uppercase" value="Add to cart"> </input>
                            <hr>
                        </form>
                        <div class="row">
                            <div class="col-sm-5">
                                <dl class="param param-inline">
                                    <dt>Seller</dt>
                                    <dd>
                                        <span th:text="${product.seller}"></span>
                                        <br>
                                        <form id="followForm">
                                            <input hidden name="sellerId" th:value="${product.seller.id}"/>
                                            <input hidden name="isFollow" th:value="${follow}"/>
                                            <button th:class="${follow}?'btn btn-danger':'btn btn-success'"
                                                    type="submit" id="followBtn">
                                                <span th:text="${follow}?Unfollow:Follow"></span>
                                            </button>
                                        </form>
                                    </dd>
                                </dl>  <!-- item-property .// -->
                            </div> <!-- col.// -->
                        </div>
                    </article> <!-- card-body.// -->
                </aside> <!-- col.// -->
            </div> <!-- row.// -->
        </div>

    </div>

</div>

</div>

</body>
</html>